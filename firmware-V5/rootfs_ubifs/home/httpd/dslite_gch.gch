<%
IMPORT FILE "common_gch.gch";
function dslite_func(FP_ACTION, FP_IDENTITY, FP_ERRORSTR)
{
var FP_HANDLE,FP_OBJNAME,FP_MULTIDISPLAY,FP_PARANUM;
var PARA[9] =
{
"TUN46ViewName",
"TUN46WANCViewName",
"TUN46Localv4Addr",
"IsHMREMOTEAddrSrc",
"TUN46REMOTEIPAddr",
"Tunnel46name",
"Tunneltype",
"Wanctype",
"ConnStatus"
};
FP_OBJNAME = "OBJ_TUNNEL46_ID";
FP_PARANUM = 9;
FP_MULTIDISPLAY = 0;
if (FP_ACTION == "edit")  
{
FP_HANDLE = create_paralist();
for(var i=0; i< FP_PARANUM; i++)
{
setpara(FP_HANDLE, PARA[i]);
}
FP_IDENTITY = set_inst(FP_HANDLE, FP_OBJNAME, FP_IDENTITY);
}
else if (FP_ACTION == "new")  
{
FP_HANDLE = create_paralist();
for(var i=0; i< FP_PARANUM; i++)
{
setpara(FP_HANDLE, PARA[i]);
}
FP_IDENTITY = set_inst(FP_HANDLE, FP_OBJNAME, "");
}
FP_HANDLE = create_paralist();

if (-1 != FP_IDENTITY)
{
get_inst(FP_HANDLE, FP_OBJNAME, FP_IDENTITY);
create_hidden_para(FP_HANDLE, PARA, FP_PARANUM);
}
else if (-1 == FP_IDENTITY)
{
create_newwan_hidden_para(FP_HANDLE, PARA, FP_PARANUM);
}
destroy_paralist(FP_HANDLE);
create_hidden_sep("IF_IDENTITY", FP_IDENTITY);
return getDisplayInstError("SUCC");
}
%>