<%
IMPORT FILE "common_gch.gch";
function pctrl_url()
{
var PARA[6] =
{
"ViewName",
"Enable",
"Url",
"FilterTarget",
"APPId",
"User"
};
var FP_INSTNUM_USER = query_list("OBJ_FWPCTRLUSERURL_ID", "IGD");
create_hidden_sep("INSTNUM_USER", FP_INSTNUM_USER);
if (FP_INSTNUM_USER != 888 && FP_INSTNUM_USER > 0)
{
for(var i = 0; i < FP_INSTNUM_USER; i++ )
{
query_list("OBJ_FWPCTRLUSERURL_ID", "IGD");
var identity = query_identity(i);
var FP_HANDLE = create_paralist();
get_inst(FP_HANDLE,"OBJ_FWPCTRLUSERURL_ID", identity);
var UserID= get_para(FP_HANDLE, "UserName");
destroy_paralist(FP_HANDLE);
create_hidden_sep("UserID"+i, UserID);
create_hidden_sep("UserIDIDENTITY"+i, identity);
var FP_INSTNUM_URL = query_list("OBJ_FWURL_ID", UserID);
create_hidden_sep("INSTNUM_URL"+UserID, FP_INSTNUM_URL);
for(var j = 0; j < FP_INSTNUM_URL; j++ )
{
var handle = create_paralist();
var FP_IDENTITY_URL   = query_identity(j);
get_inst(handle, "OBJ_FWURL_ID", FP_IDENTITY_URL);
="<INPUT type='hidden' name="+ PARA[2] + UserID + j +"   ID="+ PARA[2] + UserID + j +" value=''>\n";
="<script language=javascript>Transfer_meaning('";
="Url" + UserID + j;
="','";
=encodeJS(get_para(handle, PARA[2]));
="');";
="</script>\n";
destroy_paralist(handle);
}
}
}
}
%>
